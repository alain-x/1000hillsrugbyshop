{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../service/api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction AdminorderdetailsComponent_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.message);\n  }\n}\nfunction AdminorderdetailsComponent_ng_container_4_div_1_option_87_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const status_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", status_r4);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", status_r4, \" \");\n  }\n}\nfunction AdminorderdetailsComponent_ng_container_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7)(2, \"h1\");\n    i0.ɵɵtext(3, \"Order Information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\")(5, \"strong\");\n    i0.ɵɵtext(6, \"Order item Id: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\")(9, \"strong\");\n    i0.ɵɵtext(10, \"Quantity: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\")(13, \"strong\");\n    i0.ɵɵtext(14, \"Total price: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\")(17, \"strong\");\n    i0.ɵɵtext(18, \"Order status: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"p\")(21, \"strong\");\n    i0.ɵɵtext(22, \"Date ordered: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23);\n    i0.ɵɵpipe(24, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 7)(26, \"h1\");\n    i0.ɵɵtext(27, \"User Information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"p\")(29, \"strong\");\n    i0.ɵɵtext(30, \"Name: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"p\")(33, \"strong\");\n    i0.ɵɵtext(34, \"Email: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"p\")(37, \"strong\");\n    i0.ɵɵtext(38, \"Phone: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"p\")(41, \"strong\");\n    i0.ɵɵtext(42, \"Role: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(43);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(44, \"div\", 7)(45, \"h1\");\n    i0.ɵɵtext(46, \"User Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"p\")(48, \"strong\");\n    i0.ɵɵtext(49, \"Coutry: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(50);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"p\")(52, \"strong\");\n    i0.ɵɵtext(53, \"State: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"p\")(56, \"strong\");\n    i0.ɵɵtext(57, \"City: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(58);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"p\")(60, \"strong\");\n    i0.ɵɵtext(61, \"Street: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(62);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(63, \"p\")(64, \"strong\");\n    i0.ɵɵtext(65, \"Zip Code: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(66);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(67, \"div\", 7)(68, \"h1\");\n    i0.ɵɵtext(69, \"Product Information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(70, \"img\", 8);\n    i0.ɵɵelementStart(71, \"p\")(72, \"strong\");\n    i0.ɵɵtext(73, \"Name: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(74);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(75, \"p\")(76, \"strong\");\n    i0.ɵɵtext(77, \"Description: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(78);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(79, \"p\")(80, \"strong\");\n    i0.ɵɵtext(81, \"Price: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(82);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(83, \"div\")(84, \"h4\");\n    i0.ɵɵtext(85, \"Change Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(86, \"select\", 9);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminorderdetailsComponent_ng_container_4_div_1_Template_select_ngModelChange_86_listener($event) {\n      const item_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r0.selectedStatus[item_r3.id], $event) || (ctx_r0.selectedStatus[item_r3.id] = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵtemplate(87, AdminorderdetailsComponent_ng_container_4_div_1_option_87_Template, 2, 2, \"option\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(88, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function AdminorderdetailsComponent_ng_container_4_div_1_Template_button_click_88_listener() {\n      const item_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.handleSubmitStatusChange(item_r3.id));\n    });\n    i0.ɵɵtext(89, \"Update Status\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(item_r3.id);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r3.quantity);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r3.price);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r3.status);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(24, 21, item_r3.createdAt));\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(item_r3.user.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r3.user.email);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r3.user.phoneNumber);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r3.user.role);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(item_r3.user.address == null ? null : item_r3.user.address.country);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r3.user.address == null ? null : item_r3.user.address.state);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r3.user.address == null ? null : item_r3.user.address.city);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r3.user.address == null ? null : item_r3.user.address.street);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r3.user.address == null ? null : item_r3.user.address.zipCode);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"src\", item_r3.product == null ? null : item_r3.product.imageUrl, i0.ɵɵsanitizeUrl)(\"alt\", item_r3.product == null ? null : item_r3.product.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r3.product == null ? null : item_r3.product.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r3.product == null ? null : item_r3.product.description);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r3.product == null ? null : item_r3.product.price);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.selectedStatus[item_r3.id]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.OderStatus);\n  }\n}\nfunction AdminorderdetailsComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AdminorderdetailsComponent_ng_container_4_div_1_Template, 90, 23, \"div\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.orderItem);\n  }\n}\nfunction AdminorderdetailsComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Loading ...\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let AdminorderdetailsComponent = /*#__PURE__*/(() => {\n  class AdminorderdetailsComponent {\n    apiService;\n    route;\n    orderItem = [];\n    selectedStatus = {};\n    orderId = '';\n    message = null;\n    OderStatus = [\"PENDING\", \"CONFIRMED\", \"SHIPPED\", \"DELIVERED\", \"CANCELLED\", \"RETURNED\"];\n    constructor(apiService, route) {\n      this.apiService = apiService;\n      this.route = route;\n    }\n    ngOnInit() {\n      this.orderId = this.route.snapshot.paramMap.get('orderId');\n      this.fetchOrderDetails();\n    }\n    fetchOrderDetails() {\n      if (this.orderId) {\n        this.apiService.getOrderItemById(this.orderId).subscribe({\n          next: res => {\n            this.orderItem = res.orderItemList || [];\n            this.orderItem.forEach(item => {\n              this.selectedStatus[item.id] = item.status;\n            });\n          },\n          error: error => {\n            console.log(error);\n          }\n        });\n      }\n    }\n    handleStatusChange(orderId, newStatus) {\n      this.selectedStatus[orderId] = newStatus;\n    }\n    handleSubmitStatusChange(orderId) {\n      this.apiService.updateOrderItemStatus(orderId.toString(), this.selectedStatus[orderId]).subscribe({\n        next: res => {\n          this.fetchOrderDetails();\n          this.message = \"Order item status was successfuklly updated\";\n          setTimeout(() => {\n            this.message = null;\n          }, 4000);\n        }\n      });\n    }\n    static ɵfac = function AdminorderdetailsComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || AdminorderdetailsComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AdminorderdetailsComponent,\n      selectors: [[\"app-adminorderdetails\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 7,\n      vars: 3,\n      consts: [[\"loading\", \"\"], [1, \"container\"], [\"class\", \"message\", 4, \"ngIf\"], [4, \"ngIf\", \"ngIfElse\"], [1, \"message\"], [\"class\", \"item-details\", 4, \"ngFor\", \"ngForOf\"], [1, \"item-details\"], [1, \"info\"], [3, \"src\", \"alt\"], [3, \"ngModelChange\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [3, \"value\"]],\n      template: function AdminorderdetailsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 1);\n          i0.ɵɵtemplate(1, AdminorderdetailsComponent_p_1_Template, 2, 1, \"p\", 2);\n          i0.ɵɵelementStart(2, \"h1\");\n          i0.ɵɵtext(3, \"Order Details\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(4, AdminorderdetailsComponent_ng_container_4_Template, 2, 1, \"ng-container\", 3)(5, AdminorderdetailsComponent_ng_template_5_Template, 2, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          const loading_r5 = i0.ɵɵreference(6);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.message);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.orderItem.length)(\"ngIfElse\", loading_r5);\n        }\n      },\n      dependencies: [CommonModule, i3.NgForOf, i3.NgIf, i3.DatePipe, FormsModule, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel],\n      styles: [\".container[_ngcontent-%COMP%]{padding:20px;margin:auto;max-width:70%;margin-bottom:9rem}.message[_ngcontent-%COMP%]{color:#f68b1e;margin-bottom:20px;font-size:40px;text-align:center}.item-details[_ngcontent-%COMP%]{border:1px solid #ddd;padding:20px;margin-bottom:20px}.info[_ngcontent-%COMP%]{margin:40px 5px}img[_ngcontent-%COMP%]{max-width:100%;height:auto;margin-bottom:10px}select[_ngcontent-%COMP%]{padding:10px;margin-right:10px}button[_ngcontent-%COMP%]{padding:10px 15px;background-color:#f68b1e;color:#fff;border:none;cursor:pointer;font-size:20px}button[_ngcontent-%COMP%]:hover{background-color:#c89765}\"]\n    });\n  }\n  return AdminorderdetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}